\hypertarget{classnta_1_1utils_1_1ThreadPool}{}\section{nta\+:\+:utils\+:\+:Thread\+Pool Class Reference}
\label{classnta_1_1utils_1_1ThreadPool}\index{nta\+::utils\+::\+Thread\+Pool@{nta\+::utils\+::\+Thread\+Pool}}


Collection of threads for running scheduled functions.  




{\ttfamily \#include $<$Thread\+Pool.\+h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structnta_1_1utils_1_1ThreadPool_1_1worker}{worker}
\begin{DoxyCompactList}\small\item\em One thread available to the pool. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a3336e668eb283fcb65654058a9ed9113}\label{classnta_1_1utils_1_1ThreadPool_a3336e668eb283fcb65654058a9ed9113}} 
\hyperlink{classnta_1_1utils_1_1ThreadPool_a3336e668eb283fcb65654058a9ed9113}{Thread\+Pool} (size\+\_\+t num\+\_\+threads)
\begin{DoxyCompactList}\small\item\em Constructs a \hyperlink{classnta_1_1utils_1_1ThreadPool}{Thread\+Pool} with specified number of threads. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_aa10c18b44db7449d04bb6577c70dc17b}\label{classnta_1_1utils_1_1ThreadPool_aa10c18b44db7449d04bb6577c70dc17b}} 
void \hyperlink{classnta_1_1utils_1_1ThreadPool_aa10c18b44db7449d04bb6577c70dc17b}{schedule} (const Thunk \&thunk)
\begin{DoxyCompactList}\small\item\em Schedules a function to be executed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a267245d18bf040ebfb469cdce5221516}\label{classnta_1_1utils_1_1ThreadPool_a267245d18bf040ebfb469cdce5221516}} 
void \hyperlink{classnta_1_1utils_1_1ThreadPool_a267245d18bf040ebfb469cdce5221516}{wait} ()
\begin{DoxyCompactList}\small\item\em Waits for all scheduled functions to finish execution. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a3d928faed613a53dd61509dd8c10cf7a}\label{classnta_1_1utils_1_1ThreadPool_a3d928faed613a53dd61509dd8c10cf7a}} 
{\bfseries Thread\+Pool} (const \hyperlink{classnta_1_1utils_1_1ThreadPool}{Thread\+Pool} \&)=delete
\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_ac8f40f413b950d44672128dd9b51e5c7}\label{classnta_1_1utils_1_1ThreadPool_ac8f40f413b950d44672128dd9b51e5c7}} 
\hyperlink{classnta_1_1utils_1_1ThreadPool}{Thread\+Pool} \& {\bfseries operator=} (const \hyperlink{classnta_1_1utils_1_1ThreadPool}{Thread\+Pool} \&)=delete
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classnta_1_1utils_1_1ThreadPool_a2ca98ba5ed4510e5aac90c0507859b8d}{dispatcher} ()
\begin{DoxyCompactList}\small\item\em Function run by dispatch thread. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_ade9cec65b2ef535cb03fcc0ea941fe24}\label{classnta_1_1utils_1_1ThreadPool_ade9cec65b2ef535cb03fcc0ea941fe24}} 
void \hyperlink{classnta_1_1utils_1_1ThreadPool_ade9cec65b2ef535cb03fcc0ea941fe24}{worker\+\_\+func} (size\+\_\+t wid)
\begin{DoxyCompactList}\small\item\em Function run by worker threads. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a0cf734e83b83378a70a67864e9eeb732}\label{classnta_1_1utils_1_1ThreadPool_a0cf734e83b83378a70a67864e9eeb732}} 
size\+\_\+t \hyperlink{classnta_1_1utils_1_1ThreadPool_a0cf734e83b83378a70a67864e9eeb732}{get\+Available\+Worker} ()
\begin{DoxyCompactList}\small\item\em Returns id of an available worker. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a545314bb70fd5cd2ecbd8759d3251cc6}\label{classnta_1_1utils_1_1ThreadPool_a545314bb70fd5cd2ecbd8759d3251cc6}} 
bool \hyperlink{classnta_1_1utils_1_1ThreadPool_a545314bb70fd5cd2ecbd8759d3251cc6}{all\+Work\+Finished} ()
\begin{DoxyCompactList}\small\item\em Returns whether or not all work is finished. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a0e3a98b876630e19b93803d1704ee355}\label{classnta_1_1utils_1_1ThreadPool_a0e3a98b876630e19b93803d1704ee355}} 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_ac44213adbd2072e9d45298c7ba5865b1}\label{classnta_1_1utils_1_1ThreadPool_ac44213adbd2072e9d45298c7ba5865b1}} 
std::condition\_variable\_any {\bfseries cv}\\
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_ade8a5536a2b32f84f34043f9d457443e}\label{classnta_1_1utils_1_1ThreadPool_ade8a5536a2b32f84f34043f9d457443e}} 
std::mutex {\bfseries m}\\
\} \hyperlink{classnta_1_1utils_1_1ThreadPool_a0e3a98b876630e19b93803d1704ee355}{m\_empty}\\

\end{tabbing}\begin{DoxyCompactList}\small\item\em Used to keep track of when the pool is empty. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a851ca4eb221b1d3961f345655bdabc7f}\label{classnta_1_1utils_1_1ThreadPool_a851ca4eb221b1d3961f345655bdabc7f}} 
std\+::vector$<$ \hyperlink{structnta_1_1utils_1_1ThreadPool_1_1worker}{worker} $>$ \hyperlink{classnta_1_1utils_1_1ThreadPool_a851ca4eb221b1d3961f345655bdabc7f}{m\+\_\+workers}
\begin{DoxyCompactList}\small\item\em The workers. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a36739b269f7de9e8676ec889ef0ec35b}\label{classnta_1_1utils_1_1ThreadPool_a36739b269f7de9e8676ec889ef0ec35b}} 
std\+::atomic$<$ bool $>$ \hyperlink{classnta_1_1utils_1_1ThreadPool_a36739b269f7de9e8676ec889ef0ec35b}{m\+\_\+kill}
\begin{DoxyCompactList}\small\item\em Sign to kill the pool. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a545160bd42d91789b0e91d33fe1a4c87}\label{classnta_1_1utils_1_1ThreadPool_a545160bd42d91789b0e91d33fe1a4c87}} 
\hyperlink{classnta_1_1utils_1_1Semaphore}{Semaphore} \hyperlink{classnta_1_1utils_1_1ThreadPool_a545160bd42d91789b0e91d33fe1a4c87}{m\+\_\+scheduled}
\begin{DoxyCompactList}\small\item\em Record of scheduled workers. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a2ae729ca0283f78900540a0109f418b5}\label{classnta_1_1utils_1_1ThreadPool_a2ae729ca0283f78900540a0109f418b5}} 
\hyperlink{classnta_1_1utils_1_1Semaphore}{Semaphore} \hyperlink{classnta_1_1utils_1_1ThreadPool_a2ae729ca0283f78900540a0109f418b5}{m\+\_\+available}
\begin{DoxyCompactList}\small\item\em Record of available workers. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a828f1c41f02f5ecce36e72a2a3328eb3}\label{classnta_1_1utils_1_1ThreadPool_a828f1c41f02f5ecce36e72a2a3328eb3}} 
std\+::queue$<$ Thunk $>$ \hyperlink{classnta_1_1utils_1_1ThreadPool_a828f1c41f02f5ecce36e72a2a3328eb3}{m\+\_\+funcs}
\begin{DoxyCompactList}\small\item\em The functions to be executed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a6fe6bfa4607803f5f3f9b64b47c0417a}\label{classnta_1_1utils_1_1ThreadPool_a6fe6bfa4607803f5f3f9b64b47c0417a}} 
std\+::thread \hyperlink{classnta_1_1utils_1_1ThreadPool_a6fe6bfa4607803f5f3f9b64b47c0417a}{m\+\_\+dispatch\+\_\+thread}
\begin{DoxyCompactList}\small\item\em The thread for managing the pool. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Collection of threads for running scheduled functions. 

Definition at line 36 of file Thread\+Pool.\+h.



Collaboration diagram for nta\+:\+:utils\+:\+:Thread\+Pool\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d5d/classnta_1_1utils_1_1ThreadPool__coll__graph}
\end{center}
\end{figure}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classnta_1_1utils_1_1ThreadPool_a2ca98ba5ed4510e5aac90c0507859b8d}\label{classnta_1_1utils_1_1ThreadPool_a2ca98ba5ed4510e5aac90c0507859b8d}} 
\index{nta\+::utils\+::\+Thread\+Pool@{nta\+::utils\+::\+Thread\+Pool}!dispatcher@{dispatcher}}
\index{dispatcher@{dispatcher}!nta\+::utils\+::\+Thread\+Pool@{nta\+::utils\+::\+Thread\+Pool}}
\subsubsection{\texorpdfstring{dispatcher()}{dispatcher()}}
{\footnotesize\ttfamily void nta\+::utils\+::\+Thread\+Pool\+::dispatcher (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Function run by dispatch thread. 

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000030}{Todo}]Can I reorganize to replace with a while(!kill)? \end{DoxyRefDesc}


Definition at line 28 of file Thread\+Pool.\+cpp.



Referenced by Thread\+Pool().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d5b/classnta_1_1utils_1_1ThreadPool_a2ca98ba5ed4510e5aac90c0507859b8d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{df/d5b/classnta_1_1utils_1_1ThreadPool_a2ca98ba5ed4510e5aac90c0507859b8d_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/nta/Thread\+Pool.\+h\item 
src/Thread\+Pool.\+cpp\end{DoxyCompactItemize}
