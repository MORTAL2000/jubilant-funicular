\hypertarget{classnta_1_1ThreadPool}{}\section{nta\+:\+:Thread\+Pool Class Reference}
\label{classnta_1_1ThreadPool}\index{nta\+::\+Thread\+Pool@{nta\+::\+Thread\+Pool}}


Collection of threads for running scheduled functions.  




{\ttfamily \#include $<$Thread\+Pool.\+h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structnta_1_1ThreadPool_1_1worker}{worker}
\begin{DoxyCompactList}\small\item\em One thread available to the pool. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_a134d8778fde34135cc4a3dd6c09a1c51}\label{classnta_1_1ThreadPool_a134d8778fde34135cc4a3dd6c09a1c51}} 
\hyperlink{classnta_1_1ThreadPool_a134d8778fde34135cc4a3dd6c09a1c51}{Thread\+Pool} (size\+\_\+t num\+\_\+threads)
\begin{DoxyCompactList}\small\item\em Constructs a \hyperlink{classnta_1_1ThreadPool}{Thread\+Pool} with specified number of threads. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_a81b54fdbf4be4be004f23c9583067c76}\label{classnta_1_1ThreadPool_a81b54fdbf4be4be004f23c9583067c76}} 
void \hyperlink{classnta_1_1ThreadPool_a81b54fdbf4be4be004f23c9583067c76}{schedule} (const Thunk \&thunk)
\begin{DoxyCompactList}\small\item\em Schedules a function to be executed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_a71196ed9500cd4e9a4c1ff713e1e31a4}\label{classnta_1_1ThreadPool_a71196ed9500cd4e9a4c1ff713e1e31a4}} 
void \hyperlink{classnta_1_1ThreadPool_a71196ed9500cd4e9a4c1ff713e1e31a4}{wait} ()
\begin{DoxyCompactList}\small\item\em Waits for all scheduled functions to finish execution. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_a07bca86579e4ddde4fd75af12d68b8d6}\label{classnta_1_1ThreadPool_a07bca86579e4ddde4fd75af12d68b8d6}} 
{\bfseries Thread\+Pool} (const \hyperlink{classnta_1_1ThreadPool}{Thread\+Pool} \&)=delete
\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_ab03fa46ce0b78cd13e03ec2fc9ae5263}\label{classnta_1_1ThreadPool_ab03fa46ce0b78cd13e03ec2fc9ae5263}} 
\hyperlink{classnta_1_1ThreadPool}{Thread\+Pool} \& {\bfseries operator=} (const \hyperlink{classnta_1_1ThreadPool}{Thread\+Pool} \&)=delete
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classnta_1_1ThreadPool_ad439d625834a107a84c62c1ddcf2e936}{dispatcher} ()
\begin{DoxyCompactList}\small\item\em Function run by dispatch thread. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_a385efaf5c22285933433fed27e395500}\label{classnta_1_1ThreadPool_a385efaf5c22285933433fed27e395500}} 
void \hyperlink{classnta_1_1ThreadPool_a385efaf5c22285933433fed27e395500}{worker} (size\+\_\+t wid)
\begin{DoxyCompactList}\small\item\em Function run by worker threads. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_a20591ee4c43620103d30ab786336c55f}\label{classnta_1_1ThreadPool_a20591ee4c43620103d30ab786336c55f}} 
size\+\_\+t \hyperlink{classnta_1_1ThreadPool_a20591ee4c43620103d30ab786336c55f}{get\+Available\+Worker} ()
\begin{DoxyCompactList}\small\item\em Returns id of an available worker. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_a1931cc30b7621daa103cb9c4576c6413}\label{classnta_1_1ThreadPool_a1931cc30b7621daa103cb9c4576c6413}} 
bool \hyperlink{classnta_1_1ThreadPool_a1931cc30b7621daa103cb9c4576c6413}{all\+Work\+Finished} ()
\begin{DoxyCompactList}\small\item\em Returns whether or not all work is finished. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_a63fe64d5068dd24218b13df9936c0c5f}\label{classnta_1_1ThreadPool_a63fe64d5068dd24218b13df9936c0c5f}} 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\mbox{\Hypertarget{classnta_1_1ThreadPool_a9b2829d843a9eaeebcd865fc48dd2aa2}\label{classnta_1_1ThreadPool_a9b2829d843a9eaeebcd865fc48dd2aa2}} 
std::condition\_variable\_any {\bfseries cv}\\
\mbox{\Hypertarget{classnta_1_1ThreadPool_af7fff8c129330c6c5919dd66092040ec}\label{classnta_1_1ThreadPool_af7fff8c129330c6c5919dd66092040ec}} 
std::mutex {\bfseries m}\\
\} \hyperlink{classnta_1_1ThreadPool_a63fe64d5068dd24218b13df9936c0c5f}{m\_empty}\\

\end{tabbing}\begin{DoxyCompactList}\small\item\em Used to keep track of when the pool is empty. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_adc58f79ddcabb42ec65d4f26526ce914}\label{classnta_1_1ThreadPool_adc58f79ddcabb42ec65d4f26526ce914}} 
std\+::vector$<$ \hyperlink{structnta_1_1ThreadPool_1_1worker}{worker} $>$ \hyperlink{classnta_1_1ThreadPool_adc58f79ddcabb42ec65d4f26526ce914}{m\+\_\+workers}
\begin{DoxyCompactList}\small\item\em The workers. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_a2328672ee0ae326f21b138dcbdaf67b6}\label{classnta_1_1ThreadPool_a2328672ee0ae326f21b138dcbdaf67b6}} 
std\+::atomic$<$ bool $>$ \hyperlink{classnta_1_1ThreadPool_a2328672ee0ae326f21b138dcbdaf67b6}{m\+\_\+kill}
\begin{DoxyCompactList}\small\item\em Sign to kill the pool. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_a7dd1a6a6e66450693352f0a9b977601e}\label{classnta_1_1ThreadPool_a7dd1a6a6e66450693352f0a9b977601e}} 
\hyperlink{classnta_1_1Semaphore}{Semaphore} \hyperlink{classnta_1_1ThreadPool_a7dd1a6a6e66450693352f0a9b977601e}{m\+\_\+scheduled}
\begin{DoxyCompactList}\small\item\em Record of scheduled workers. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_aa8b2b5a0a2642604c5df5533c9c5f336}\label{classnta_1_1ThreadPool_aa8b2b5a0a2642604c5df5533c9c5f336}} 
\hyperlink{classnta_1_1Semaphore}{Semaphore} \hyperlink{classnta_1_1ThreadPool_aa8b2b5a0a2642604c5df5533c9c5f336}{m\+\_\+available}
\begin{DoxyCompactList}\small\item\em Record of available workers. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_a4679d6f33473911f05f2241b69538544}\label{classnta_1_1ThreadPool_a4679d6f33473911f05f2241b69538544}} 
std\+::queue$<$ Thunk $>$ \hyperlink{classnta_1_1ThreadPool_a4679d6f33473911f05f2241b69538544}{m\+\_\+funcs}
\begin{DoxyCompactList}\small\item\em The functions to be executed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1ThreadPool_ab8770d73ed374fe340e418bce832cbca}\label{classnta_1_1ThreadPool_ab8770d73ed374fe340e418bce832cbca}} 
std\+::thread \hyperlink{classnta_1_1ThreadPool_ab8770d73ed374fe340e418bce832cbca}{m\+\_\+dispatch\+\_\+thread}
\begin{DoxyCompactList}\small\item\em The thread for managing the pool. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Collection of threads for running scheduled functions. 

Definition at line 35 of file Thread\+Pool.\+h.



Collaboration diagram for nta\+:\+:Thread\+Pool\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/dfd/classnta_1_1ThreadPool__coll__graph}
\end{center}
\end{figure}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classnta_1_1ThreadPool_ad439d625834a107a84c62c1ddcf2e936}\label{classnta_1_1ThreadPool_ad439d625834a107a84c62c1ddcf2e936}} 
\index{nta\+::\+Thread\+Pool@{nta\+::\+Thread\+Pool}!dispatcher@{dispatcher}}
\index{dispatcher@{dispatcher}!nta\+::\+Thread\+Pool@{nta\+::\+Thread\+Pool}}
\subsubsection{\texorpdfstring{dispatcher()}{dispatcher()}}
{\footnotesize\ttfamily void nta\+::\+Thread\+Pool\+::dispatcher (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Function run by dispatch thread. 

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000005}{Todo}]Can I reorganize to replace with a while(!kill)? \end{DoxyRefDesc}


Definition at line 27 of file Thread\+Pool.\+cpp.



Referenced by Thread\+Pool().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/d68/classnta_1_1ThreadPool_ad439d625834a107a84c62c1ddcf2e936_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/d68/classnta_1_1ThreadPool_ad439d625834a107a84c62c1ddcf2e936_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/nta/Thread\+Pool.\+h\item 
src/Thread\+Pool.\+cpp\end{DoxyCompactItemize}
