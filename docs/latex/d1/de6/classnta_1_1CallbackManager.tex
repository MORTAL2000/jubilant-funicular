\hypertarget{classnta_1_1CallbackManager}{}\section{nta\+:\+:Callback\+Manager Class Reference}
\label{classnta_1_1CallbackManager}\index{nta\+::\+Callback\+Manager@{nta\+::\+Callback\+Manager}}


{\ttfamily \#include $<$Callback\+Manager.\+h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{classnta_1_1CallbackManager_d3/dc5/structnta_1_1CallbackManager_1_1event}{event}
\begin{DoxyCompactList}\small\item\em A function to run at a certain time with some regularity.  \hyperlink{classnta_1_1CallbackManager_d3/dc5/structnta_1_1CallbackManager_1_1event}{More...}\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static uint64\+\_\+t \hyperlink{classnta_1_1CallbackManager_a1fd6132e79e49dbcb787bc8a8507a931}{set\+Interval} (const Thunk \&thunk, uint64\+\_\+t when, uint64\+\_\+t period)
\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_ac51c18a014641ffe9dbfe8ead0f6bae0}\label{classnta_1_1CallbackManager_ac51c18a014641ffe9dbfe8ead0f6bae0}} 
static uint64\+\_\+t \hyperlink{classnta_1_1CallbackManager_ac51c18a014641ffe9dbfe8ead0f6bae0}{set\+Timeout} (const Thunk \&thunk, uint64\+\_\+t when)
\begin{DoxyCompactList}\small\item\em Schedules a function to be called once after when frames and then repeatedly after. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_af184e9fbc5353c8e019cf61c51c03448}\label{classnta_1_1CallbackManager_af184e9fbc5353c8e019cf61c51c03448}} 
static bool \hyperlink{classnta_1_1CallbackManager_af184e9fbc5353c8e019cf61c51c03448}{delay} (uint64\+\_\+t id, uint64\+\_\+t when, bool absolute=true)
\begin{DoxyCompactList}\small\item\em Changes when an event is next scheduled to run. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_a2c8114a6c1e8de9c59b6484f47dde1a3}\label{classnta_1_1CallbackManager_a2c8114a6c1e8de9c59b6484f47dde1a3}} 
static void \hyperlink{classnta_1_1CallbackManager_a2c8114a6c1e8de9c59b6484f47dde1a3}{init} ()
\begin{DoxyCompactList}\small\item\em Initializes the \hyperlink{classnta_1_1CallbackManager}{Callback\+Manager}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_a4af0feb66d42bd32d5bde2e4a52519a9}\label{classnta_1_1CallbackManager_a4af0feb66d42bd32d5bde2e4a52519a9}} 
static void \hyperlink{classnta_1_1CallbackManager_a4af0feb66d42bd32d5bde2e4a52519a9}{clear} (uint64\+\_\+t id)
\begin{DoxyCompactList}\small\item\em Removes the event with the given id. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_ae055387e26996a024065a5b59c833e78}\label{classnta_1_1CallbackManager_ae055387e26996a024065a5b59c833e78}} 
static void \hyperlink{classnta_1_1CallbackManager_ae055387e26996a024065a5b59c833e78}{increment\+\_\+frame} ()
\begin{DoxyCompactList}\small\item\em Informs \hyperlink{classnta_1_1CallbackManager}{Callback\+Manager} that a frame has passed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_a70be77ca2505257376250c660a3082d6}\label{classnta_1_1CallbackManager_a70be77ca2505257376250c660a3082d6}} 
static void \hyperlink{classnta_1_1CallbackManager_a70be77ca2505257376250c660a3082d6}{destroy} ()
\begin{DoxyCompactList}\small\item\em Destroys the \hyperlink{classnta_1_1CallbackManager}{Callback\+Manager}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{classnta_1_1CallbackManager_a7912dc908d7a7a44267ddd8fa6fb8686}{dispatch} ()
\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_a897df241a317572ff96bb89e28aadc14}\label{classnta_1_1CallbackManager_a897df241a317572ff96bb89e28aadc14}} 
static void \hyperlink{classnta_1_1CallbackManager_a897df241a317572ff96bb89e28aadc14}{dequeue} (uint64\+\_\+t id)
\begin{DoxyCompactList}\small\item\em Removes event from m\+\_\+queue but not m\+\_\+active (assumes id is valid) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_a03df001cff1afcc19ed4bb35cd51b5d0}\label{classnta_1_1CallbackManager_a03df001cff1afcc19ed4bb35cd51b5d0}} 
static std\+::map$<$ uint64\+\_\+t, \hyperlink{classnta_1_1CallbackManager_d3/dc5/structnta_1_1CallbackManager_1_1event}{event} $>$ \hyperlink{classnta_1_1CallbackManager_a03df001cff1afcc19ed4bb35cd51b5d0}{m\+\_\+active}
\begin{DoxyCompactList}\small\item\em The events waiting to happen (key is \hyperlink{classnta_1_1CallbackManager_a743978e02001b9ceff1145c41214d2e5}{event.\+id}) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_af348c39ad7b27a0f8c92e4b90bf944a7}\label{classnta_1_1CallbackManager_af348c39ad7b27a0f8c92e4b90bf944a7}} 
static std\+::map$<$ uint64\+\_\+t, std\+::vector$<$ \hyperlink{classnta_1_1CallbackManager_d3/dc5/structnta_1_1CallbackManager_1_1event}{event} $\ast$ $>$ $>$ \hyperlink{classnta_1_1CallbackManager_af348c39ad7b27a0f8c92e4b90bf944a7}{m\+\_\+queue}
\begin{DoxyCompactList}\small\item\em \char`\"{}\+Priority queue\char`\"{} of events ordered by when they should occur \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_a4bdfb67cfd791112b1e83159862eefa0}\label{classnta_1_1CallbackManager_a4bdfb67cfd791112b1e83159862eefa0}} 
static \hyperlink{classnta_1_1utils_1_1ThreadPool}{utils\+::\+Thread\+Pool} \hyperlink{classnta_1_1CallbackManager_a4bdfb67cfd791112b1e83159862eefa0}{m\+\_\+pool}
\begin{DoxyCompactList}\small\item\em Thread\+Pool used for scheduling events to happen. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_abc47b7e18fc1576edb799be131baf116}\label{classnta_1_1CallbackManager_abc47b7e18fc1576edb799be131baf116}} 
static std\+::thread \hyperlink{classnta_1_1CallbackManager_abc47b7e18fc1576edb799be131baf116}{m\+\_\+dispatcher}
\begin{DoxyCompactList}\small\item\em Thread used to dispatch events. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_a714aa329a54538ec5bda528fa3a3ab7f}\label{classnta_1_1CallbackManager_a714aa329a54538ec5bda528fa3a3ab7f}} 
static std\+::atomic$<$ uint64\+\_\+t $>$ \hyperlink{classnta_1_1CallbackManager_a714aa329a54538ec5bda528fa3a3ab7f}{m\+\_\+next}
\begin{DoxyCompactList}\small\item\em id given to the next created event \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_a56903bee3075ab191f598e36438d6b50}\label{classnta_1_1CallbackManager_a56903bee3075ab191f598e36438d6b50}} 
static std\+::mutex {\bfseries m\+\_\+mutex}
\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_afa5d7642112c791dcfef35d78aff4d09}\label{classnta_1_1CallbackManager_afa5d7642112c791dcfef35d78aff4d09}} 
static std\+::condition\+\_\+variable\+\_\+any {\bfseries m\+\_\+cv}
\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_a20cd08f864fd62edbd68f5f309be5c30}\label{classnta_1_1CallbackManager_a20cd08f864fd62edbd68f5f309be5c30}} 
static bool \hyperlink{classnta_1_1CallbackManager_a20cd08f864fd62edbd68f5f309be5c30}{m\+\_\+working}
\begin{DoxyCompactList}\small\item\em Global flag saying whether or not the \hyperlink{classnta_1_1CallbackManager}{Callback\+Manager} has been destroyed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnta_1_1CallbackManager_a69bbc2e4ac29aca06d09b2466b6769c2}\label{classnta_1_1CallbackManager_a69bbc2e4ac29aca06d09b2466b6769c2}} 
static uint64\+\_\+t \hyperlink{classnta_1_1CallbackManager_a69bbc2e4ac29aca06d09b2466b6769c2}{m\+\_\+curr\+\_\+frame}
\begin{DoxyCompactList}\small\item\em The current frame. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Allows scheduling of functions to be called at a later point in time \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000001}{Todo}]Add ability to base timing off of actual time instead of frames 

make non-\/static (ideally, one \hyperlink{classnta_1_1CallbackManager}{Callback\+Manager} per \hyperlink{classnta_1_1ScreenManager}{Screen\+Manager}) \end{DoxyRefDesc}


Definition at line 12 of file Callback\+Manager.\+h.



Collaboration diagram for nta\+:\+:Callback\+Manager\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dc/df2/classnta_1_1CallbackManager__coll__graph}
\end{center}
\end{figure}


\subsection{Class Documentation}
\index{nta\+::\+Callback\+Manager\+::event@{nta\+::\+Callback\+Manager\+::event}}\label{structnta_1_1CallbackManager_1_1event}
\Hypertarget{classnta_1_1CallbackManager_structnta_1_1CallbackManager_1_1event}
\subsubsection{struct nta\+:\+:Callback\+Manager\+:\+:event}
A function to run at a certain time with some regularity. 

Definition at line 15 of file Callback\+Manager.\+h.



Collaboration diagram for nta\+:\+:Callback\+Manager\+:\+:event\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=258pt]{da/d01/structnta_1_1CallbackManager_1_1event__coll__graph}
\end{center}
\end{figure}
\begin{DoxyFields}{Class Members}
\mbox{\Hypertarget{classnta_1_1CallbackManager_a743978e02001b9ceff1145c41214d2e5}\label{classnta_1_1CallbackManager_a743978e02001b9ceff1145c41214d2e5}} 
uint64\_t&
id&
id of event \\
\hline

\mbox{\Hypertarget{classnta_1_1CallbackManager_a15dd99ac7d4588c5ac5518c063431ef5}\label{classnta_1_1CallbackManager_a15dd99ac7d4588c5ac5518c063431ef5}} 
uint64\_t&
period&
How many frames between consecutive runs. \\
\hline

\mbox{\Hypertarget{classnta_1_1CallbackManager_ad92bce3b5cee6411a2b2c08b4c13b767}\label{classnta_1_1CallbackManager_ad92bce3b5cee6411a2b2c08b4c13b767}} 
Thunk&
thunk&
Function to execute. \\
\hline

\mbox{\Hypertarget{classnta_1_1CallbackManager_ab20a0382304629ebdc2643a834c9dcff}\label{classnta_1_1CallbackManager_ab20a0382304629ebdc2643a834c9dcff}} 
uint64\_t&
when&
How many frames to run it in. \\
\hline

\end{DoxyFields}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classnta_1_1CallbackManager_a7912dc908d7a7a44267ddd8fa6fb8686}\label{classnta_1_1CallbackManager_a7912dc908d7a7a44267ddd8fa6fb8686}} 
\index{nta\+::\+Callback\+Manager@{nta\+::\+Callback\+Manager}!dispatch@{dispatch}}
\index{dispatch@{dispatch}!nta\+::\+Callback\+Manager@{nta\+::\+Callback\+Manager}}
\subsubsection{\texorpdfstring{dispatch()}{dispatch()}}
{\footnotesize\ttfamily void nta\+::\+Callback\+Manager\+::dispatch (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

Function run by m\+\_\+dispatcher Handles calling of the various events at the right times 

Definition at line 56 of file Callback\+Manager.\+cpp.



Referenced by init().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/de6/classnta_1_1CallbackManager_a7912dc908d7a7a44267ddd8fa6fb8686_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/de6/classnta_1_1CallbackManager_a7912dc908d7a7a44267ddd8fa6fb8686_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classnta_1_1CallbackManager_a1fd6132e79e49dbcb787bc8a8507a931}\label{classnta_1_1CallbackManager_a1fd6132e79e49dbcb787bc8a8507a931}} 
\index{nta\+::\+Callback\+Manager@{nta\+::\+Callback\+Manager}!set\+Interval@{set\+Interval}}
\index{set\+Interval@{set\+Interval}!nta\+::\+Callback\+Manager@{nta\+::\+Callback\+Manager}}
\subsubsection{\texorpdfstring{set\+Interval()}{setInterval()}}
{\footnotesize\ttfamily uint64\+\_\+t nta\+::\+Callback\+Manager\+::set\+Interval (\begin{DoxyParamCaption}\item[{const Thunk \&}]{thunk,  }\item[{uint64\+\_\+t}]{when,  }\item[{uint64\+\_\+t}]{period }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Schedules a function to be called after when frames and then repeatedly after each subsequent period frames 

Definition at line 15 of file Callback\+Manager.\+cpp.



Referenced by set\+Timeout().

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=340pt]{d1/de6/classnta_1_1CallbackManager_a1fd6132e79e49dbcb787bc8a8507a931_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/nta/Callback\+Manager.\+h\item 
src/Callback\+Manager.\+cpp\end{DoxyCompactItemize}
